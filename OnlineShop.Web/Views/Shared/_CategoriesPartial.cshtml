@model IEnumerable<OnlineShop.Web.Models.ProductCategoryViewModel>
<div class="sub-cate">
    <div class=" top-nav rsidebar span_1_of_left">
        <h3 class="cate">Danh mục sản phẩm</h3>
        <ul class="menu">
            @foreach (var productCategory in Model.Where(x => x.ParentId == null))
            {
                var url = $"/{productCategory.Alias}/pc-{productCategory.Id}";     
                var childProductCategoris = Model.Where(x => x.ParentId == productCategory.Id).ToList();
                var hasImgIcon = childProductCategoris.Any() ?
                    "<img class=\"arrow-img pull-right\" src=\"/Assets/Client/images/arrow1.png\" alt=\"\" />" :
                    "";
                <li>
                    <a href="@url">
                        @productCategory.Name
                        @Html.Raw(hasImgIcon)
                    </a>
                    @if (childProductCategoris.Any())
                    {
                        <ul class="cute">
                            @foreach (var child in childProductCategoris)
                            {
                                var childUrl = $"/{child.Alias}/pc-{child.Id}";
                                <li>
                                    <a href="@childUrl">
                                        @child.Name
                                    </a>
                                </li>
                            }
                        </ul>
                    }
                </li>

            }

        </ul>
    </div>
    <!--initiate accordion-->
    <script type="text/javascript">
        $(function () {
            var menu_ul = $('.menu > li > ul'),
                   menu_a = $('.menu > li > a');
            menu_ul.hide();
            menu_a.click(function (e) {
                if (!$(this).hasClass('active')) {
                    menu_a.removeClass('active');
                    menu_ul.filter(':visible').slideUp('normal');
                    $(this).addClass('active').next().stop(true, true).slideDown('normal');
                } else {
                    $(this).removeClass('active');
                    $(this).next().stop(true, true).slideUp('normal');
                }
            });

        });
    </script>
    <div class=" chain-grid menu-chain">
        <a href="single.html"><img class="img-responsive chain" src="../../Assets/Client/images/wat.jpg" alt=" " /></a>
        <div class="grid-chain-bottom chain-watch">
            <span class="actual dolor-left-grid">300$</span>
            <span class="reducedfrom">500$</span>
            <h6><a href="single.html">Lorem ipsum dolor</a></h6>
        </div>
    </div>
    <a class="view-all all-product" href="product.html">VIEW ALL PRODUCTS<span> </span></a>
</div>
